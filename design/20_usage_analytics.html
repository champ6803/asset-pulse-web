<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <script> window.FontAwesomeConfig = { autoReplaceSvg: 'nest'};</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/heatmap.js"></script>
    <script src="https://code.highcharts.com/modules/calendar.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        ::-webkit-scrollbar { display: none;}
        body { font-family: 'Inter', sans-serif; }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8'
                        },
                        gray: {
                            50: '#f9fafb',
                            100: '#f3f4f6',
                            200: '#e5e7eb',
                            300: '#d1d5db',
                            400: '#9ca3af',
                            500: '#6b7280',
                            600: '#4b5563',
                            700: '#374151',
                            800: '#1f2937',
                            900: '#111827'
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50">
    <div id="header" class="bg-white border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div id="logo-nav" class="flex items-center">
                    <div class="flex-shrink-0 flex items-center">
                        <div class="h-8 w-8 bg-primary-600 rounded-lg flex items-center justify-center mr-3">
                            <i class="fas fa-chart-line text-white text-sm"></i>
                        </div>
                        <span class="text-xl font-bold text-gray-900">Asset Pulse</span>
                    </div>
                    <nav id="main-nav" class="hidden md:ml-10 md:flex md:space-x-8">
                        <span class="text-gray-500 hover:text-gray-700 px-3 py-2 text-sm font-medium cursor-pointer">Dashboard</span>
                        <span class="text-gray-500 hover:text-gray-700 px-3 py-2 text-sm font-medium cursor-pointer">Recommendations</span>
                        <span class="text-primary-600 px-3 py-2 text-sm font-medium cursor-pointer">Analytics</span>
                        <span class="text-gray-500 hover:text-gray-700 px-3 py-2 text-sm font-medium cursor-pointer">Requests</span>
                    </nav>
                </div>
                <div id="user-menu" class="flex items-center space-x-4">
                    <div class="relative">
                        <input type="text" placeholder="Search..." class="pl-8 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent w-64">
                        <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-sm"></i>
                    </div>
                    <div class="relative">
                        <button class="text-gray-400 hover:text-gray-600 relative">
                            <i class="fas fa-bell text-lg"></i>
                            <span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">3</span>
                        </button>
                    </div>
                    <div class="flex items-center space-x-3 cursor-pointer">
                        <img class="h-8 w-8 rounded-full" src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-1.jpg" alt="User">
                        <span class="text-sm font-medium text-gray-700">Sarah Chen</span>
                        <i class="fas fa-chevron-down text-gray-400 text-xs"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="flex min-h-screen">
        <div id="sidebar" class="w-64 bg-white border-r border-gray-200 p-6">
            <h3 class="text-sm font-semibold text-gray-900 mb-4">Filters</h3>
            
            <div id="department-filter" class="mb-6">
                <label class="block text-sm font-medium text-gray-700 mb-2">Department</label>
                <select class="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500">
                    <option>All Departments</option>
                    <option>Engineering</option>
                    <option>Design</option>
                    <option>Marketing</option>
                    <option>Sales</option>
                </select>
            </div>

            <div id="category-filter" class="mb-6">
                <label class="block text-sm font-medium text-gray-700 mb-2">App Category</label>
                <select class="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500">
                    <option>All Categories</option>
                    <option>Development</option>
                    <option>Design</option>
                    <option>Analytics</option>
                    <option>Communication</option>
                </select>
            </div>

            <div id="usage-filter" class="mb-6">
                <label class="block text-sm font-medium text-gray-700 mb-2">Usage Threshold</label>
                <select class="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500">
                    <option>All Usage Levels</option>
                    <option>High (>80%)</option>
                    <option>Medium (40-80%)</option>
                    <option>Low (<40%)</option>
                </select>
            </div>

            <button class="w-full bg-primary-600 text-white py-2 px-4 rounded-lg hover:bg-primary-700 transition-colors text-sm">
                Apply Filters
            </button>
        </div>

        <div id="main-content" class="flex-1 p-8">
            <div id="header-section" class="mb-8">
                <div class="flex items-center justify-between">
                    <div>
                        <h1 class="text-3xl font-bold text-gray-900">Usage Analytics</h1>
                        <p class="text-gray-600 mt-2">Monitor software usage patterns and optimize license allocation</p>
                    </div>
                    <div class="flex items-center space-x-3">
                        <select class="bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500">
                            <option>Last 7 days</option>
                            <option>Last 30 days</option>
                            <option>Last 90 days</option>
                            <option>Custom</option>
                        </select>
                        <button class="bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors flex items-center">
                            <i class="fas fa-download mr-2"></i>
                            Export
                        </button>
                    </div>
                </div>
            </div>

            <div id="summary-cards" class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                <div id="active-users-card" class="bg-white rounded-xl border border-gray-200 p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-600">Total Active Users</p>
                            <p class="text-3xl font-bold text-green-600 mt-2">2,847</p>
                            <div class="flex items-center mt-2">
                                <i class="fas fa-arrow-up text-green-500 text-sm mr-1"></i>
                                <span class="text-sm text-green-600">+12% vs last period</span>
                            </div>
                        </div>
                        <div class="h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center">
                            <i class="fas fa-users text-green-600 text-xl"></i>
                        </div>
                    </div>
                </div>

                <div id="total-licenses-card" class="bg-white rounded-xl border border-gray-200 p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-600">Total Licenses</p>
                            <p class="text-3xl font-bold text-blue-600 mt-2">3,245</p>
                            <div class="flex items-center mt-2">
                                <i class="fas fa-arrow-up text-blue-500 text-sm mr-1"></i>
                                <span class="text-sm text-blue-600">+5% vs last period</span>
                            </div>
                        </div>
                        <div class="h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center">
                            <i class="fas fa-key text-blue-600 text-xl"></i>
                        </div>
                    </div>
                </div>

                <div id="utilization-rate-card" class="bg-white rounded-xl border border-gray-200 p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-600">Utilization Rate</p>
                            <p class="text-3xl font-bold text-purple-600 mt-2">87.7%</p>
                            <div class="flex items-center mt-2">
                                <i class="fas fa-arrow-up text-purple-500 text-sm mr-1"></i>
                                <span class="text-sm text-purple-600">+3.2% vs last period</span>
                            </div>
                        </div>
                        <div class="h-12 w-12 bg-purple-100 rounded-lg flex items-center justify-center">
                            <i class="fas fa-chart-pie text-purple-600 text-xl"></i>
                        </div>
                    </div>
                </div>

                <div id="monthly-cost-card" class="bg-white rounded-xl border border-gray-200 p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-600">Monthly Cost</p>
                            <p class="text-3xl font-bold text-amber-600 mt-2">฿1.2M</p>
                            <div class="flex items-center mt-2">
                                <i class="fas fa-arrow-down text-red-500 text-sm mr-1"></i>
                                <span class="text-sm text-red-600">-2.5% vs last period</span>
                            </div>
                        </div>
                        <div class="h-12 w-12 bg-amber-100 rounded-lg flex items-center justify-center">
                            <i class="fas fa-dollar-sign text-amber-600 text-xl"></i>
                        </div>
                    </div>
                </div>
            </div>

            <div id="charts-section" class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                <div id="utilization-chart" class="bg-white rounded-xl border border-gray-200 p-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">License Utilization Over Time</h3>
                    <div id="utilization-chart-container" class="h-80"></div>
                </div>

                <div id="cost-breakdown-chart" class="bg-white rounded-xl border border-gray-200 p-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Cost Breakdown by Application</h3>
                    <div id="cost-chart-container" class="h-80"></div>
                </div>

                <div id="department-usage-chart" class="bg-white rounded-xl border border-gray-200 p-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Department Usage Comparison</h3>
                    <div id="department-chart-container" class="h-80"></div>
                </div>

                <div id="activity-heatmap" class="bg-white rounded-xl border border-gray-200 p-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">User Activity Heatmap</h3>
                    <div id="heatmap-container" class="h-80"></div>
                </div>
            </div>

            <div id="table-section" class="bg-white rounded-xl border border-gray-200">
                <div class="p-6 border-b border-gray-200">
                    <div class="flex items-center justify-between">
                        <h3 class="text-lg font-semibold text-gray-900">Application Usage Details</h3>
                        <div class="flex items-center space-x-3">
                            <button class="text-primary-600 hover:text-primary-700 text-sm flex items-center">
                                <i class="fas fa-file-csv mr-2"></i>CSV
                            </button>
                            <button class="text-primary-600 hover:text-primary-700 text-sm flex items-center">
                                <i class="fas fa-file-pdf mr-2"></i>PDF
                            </button>
                            <button class="text-primary-600 hover:text-primary-700 text-sm flex items-center">
                                <i class="fas fa-file-excel mr-2"></i>Excel
                            </button>
                        </div>
                    </div>
                </div>

                <div id="usage-table" class="overflow-x-auto">
                    <table class="w-full">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Application</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Total Licenses</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Active Users</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Inactive Users</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Utilization %</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Cost per License</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Total Cost</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Last Activity</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200">
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <div class="flex items-center">
                                        <div class="h-10 w-10 bg-purple-100 rounded-lg flex items-center justify-center mr-3">
                                            <i class="fab fa-figma text-purple-600"></i>
                                        </div>
                                        <span class="text-sm font-medium text-gray-900">Figma</span>
                                    </div>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">245</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600">198</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">47</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <div class="flex items-center">
                                        <div class="w-16 bg-gray-200 rounded-full h-2 mr-2">
                                            <div class="bg-green-500 h-2 rounded-full" style="width: 81%"></div>
                                        </div>
                                        <span class="text-sm text-gray-900">81%</span>
                                    </div>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">฿4,800</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">฿1,176,000</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2 hours ago</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <button class="text-primary-600 hover:text-primary-700 text-sm">View Details</button>
                                </td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <div class="flex items-center">
                                        <div class="h-10 w-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3">
                                            <i class="fab fa-slack text-blue-600"></i>
                                        </div>
                                        <span class="text-sm font-medium text-gray-900">Slack</span>
                                    </div>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">180</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600">156</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">24</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <div class="flex items-center">
                                        <div class="w-16 bg-gray-200 rounded-full h-2 mr-2">
                                            <div class="bg-green-500 h-2 rounded-full" style="width: 87%"></div>
                                        </div>
                                        <span class="text-sm text-gray-900">87%</span>
                                    </div>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">฿3,200</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">฿576,000</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">1 hour ago</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <button class="text-primary-600 hover:text-primary-700 text-sm">View Details</button>
                                </td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <div class="flex items-center">
                                        <div class="h-10 w-10 bg-indigo-100 rounded-lg flex items-center justify-center mr-3">
                                            <i class="fab fa-github text-indigo-600"></i>
                                        </div>
                                        <span class="text-sm font-medium text-gray-900">GitHub</span>
                                    </div>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">120</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600">89</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">31</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <div class="flex items-center">
                                        <div class="w-16 bg-gray-200 rounded-full h-2 mr-2">
                                            <div class="bg-yellow-500 h-2 rounded-full" style="width: 74%"></div>
                                        </div>
                                        <span class="text-sm text-gray-900">74%</span>
                                    </div>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">฿8,400</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">฿1,008,000</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">30 minutes ago</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <button class="text-primary-600 hover:text-primary-700 text-sm">View Details</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        Highcharts.chart('utilization-chart-container', {
            chart: { type: 'area' },
            title: { text: '' },
            credits: { enabled: false },
            xAxis: { categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'] },
            yAxis: { title: { text: 'Users' } },
            series: [{
                name: 'Active Users',
                data: [2100, 2250, 2400, 2650, 2750, 2847],
                color: '#10B981'
            }, {
                name: 'Total Licenses',
                data: [2800, 2900, 3000, 3100, 3200, 3245],
                color: '#3B82F6'
            }]
        });

        Highcharts.chart('cost-chart-container', {
            chart: { type: 'bar' },
            title: { text: '' },
            credits: { enabled: false },
            xAxis: { categories: ['Figma', 'GitHub', 'Slack', 'Tableau', 'Adobe CC'] },
            yAxis: { title: { text: 'Cost (THB)' } },
            series: [{
                name: 'Monthly Cost',
                data: [98000, 84000, 48000, 165000, 200000],
                color: '#F59E0B'
            }]
        });

        Highcharts.chart('department-chart-container', {
            chart: { type: 'column' },
            title: { text: '' },
            credits: { enabled: false },
            xAxis: { categories: ['Engineering', 'Design', 'Marketing', 'Sales', 'HR'] },
            yAxis: { title: { text: 'Active Users' } },
            series: [{
                name: 'Active Users',
                data: [1200, 450, 380, 290, 125],
                color: '#8B5CF6'
            }, {
                name: 'Total Licenses',
                data: [1350, 520, 420, 340, 150],
                color: '#E5E7EB'
            }]
        });

        Highcharts.chart('heatmap-container', {
            chart: { type: 'heatmap' },
            title: { text: '' },
            credits: { enabled: false },
            xAxis: { categories: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'] },
            yAxis: { categories: ['Week 1', 'Week 2', 'Week 3', 'Week 4'] },
            colorAxis: { min: 0, minColor: '#FFFFFF', maxColor: '#3B82F6' },
            series: [{
                name: 'Activity Level',
                data: [[0,0,85], [0,1,92], [0,2,88], [0,3,75], [1,0,90], [1,1,95], [1,2,87], [1,3,82], [2,0,88], [2,1,93], [2,2,85], [2,3,78], [3,0,92], [3,1,89], [3,2,91], [3,3,80]]
            }]
        });
    </script>
</body>
</html>