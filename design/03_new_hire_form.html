<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <script> window.FontAwesomeConfig = { autoReplaceSvg: 'nest'};</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        ::-webkit-scrollbar { display: none;}
        body { font-family: 'Inter', sans-serif; }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8'
                        },
                        gray: {
                            50: '#f9fafb',
                            100: '#f3f4f6',
                            200: '#e5e7eb',
                            300: '#d1d5db',
                            400: '#9ca3af',
                            500: '#6b7280',
                            600: '#4b5563',
                            700: '#374151',
                            800: '#1f2937',
                            900: '#111827'
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50">
    <div id="header" class="bg-white border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div id="logo-nav" class="flex items-center">
                    <div class="flex-shrink-0 flex items-center">
                        <div class="h-8 w-8 bg-primary-600 rounded-lg flex items-center justify-center mr-3">
                            <i class="fas fa-chart-line text-white text-sm"></i>
                        </div>
                        <span class="text-xl font-bold text-gray-900">Asset Pulse</span>
                    </div>
                    <nav id="main-nav" class="hidden md:ml-10 md:flex md:space-x-8">
                        <span class="text-gray-500 hover:text-gray-700 px-3 py-2 text-sm font-medium cursor-pointer">Dashboard</span>
                        <span class="text-primary-600 px-3 py-2 text-sm font-medium cursor-pointer">HR Management</span>
                        <span class="text-gray-500 hover:text-gray-700 px-3 py-2 text-sm font-medium cursor-pointer">Assets</span>
                        <span class="text-gray-500 hover:text-gray-700 px-3 py-2 text-sm font-medium cursor-pointer">Analytics</span>
                    </nav>
                </div>
                <div id="user-menu" class="flex items-center space-x-4">
                    <button class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-bell text-lg"></i>
                    </button>
                    <div class="flex items-center space-x-3">
                        <img class="h-8 w-8 rounded-full" src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-2.jpg" alt="User">
                        <span class="text-sm font-medium text-gray-700">John Manager</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="main-container" class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div id="page-header" class="mb-8">
            <div class="flex items-center justify-between mb-6">
                <div>
                    <h1 class="text-2xl font-bold text-gray-900">New Hire Request</h1>
                    <p class="text-gray-600 mt-1">Submit a request to onboard a new employee</p>
                </div>
                <button id="back-btn" class="flex items-center text-gray-500 hover:text-gray-700 transition-colors">
                    <i class="fas fa-arrow-left mr-2"></i>
                    Back to HR Dashboard
                </button>
            </div>

            <div id="step-indicator" class="bg-white rounded-lg p-6 border border-gray-200">
                <div class="flex items-center justify-between">
                    <div class="flex items-center">
                        <div class="flex items-center justify-center w-8 h-8 bg-primary-600 text-white rounded-full text-sm font-medium">
                            1
                        </div>
                        <span class="ml-3 text-sm font-medium text-gray-900">Basic Information</span>
                    </div>
                    <div class="flex-1 mx-4 h-px bg-gray-200"></div>
                    <div class="flex items-center">
                        <div class="flex items-center justify-center w-8 h-8 bg-gray-200 text-gray-500 rounded-full text-sm font-medium">
                            2
                        </div>
                        <span class="ml-3 text-sm text-gray-500">AI Recommendations</span>
                    </div>
                    <div class="flex-1 mx-4 h-px bg-gray-200"></div>
                    <div class="flex items-center">
                        <div class="flex items-center justify-center w-8 h-8 bg-gray-200 text-gray-500 rounded-full text-sm font-medium">
                            3
                        </div>
                        <span class="ml-3 text-sm text-gray-500">Review & Submit</span>
                    </div>
                </div>
                <div class="mt-3 text-center">
                    <span class="text-sm font-medium text-primary-600">Step 1 of 3</span>
                </div>
            </div>
        </div>

        <div id="form-container" class="bg-white rounded-xl shadow-sm border border-gray-200">
            <div class="p-8">
                <form id="new-hire-form" class="space-y-8">
                    <div id="basic-info-section" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div id="full-name-field" class="md:col-span-2">
                            <label for="fullName" class="block text-sm font-medium text-gray-700 mb-2">
                                Full Name <span class="text-red-500">*</span>
                            </label>
                            <input 
                                type="text" 
                                id="fullName" 
                                name="fullName" 
                                required 
                                class="block w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors"
                                placeholder="Enter employee's full name"
                            >
                        </div>

                        <div id="job-title-field">
                            <label for="jobTitle" class="block text-sm font-medium text-gray-700 mb-2">
                                Job Title <span class="text-red-500">*</span>
                            </label>
                            <input 
                                type="text" 
                                id="jobTitle" 
                                name="jobTitle" 
                                required 
                                class="block w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors"
                                placeholder="e.g. Senior Software Engineer"
                            >
                        </div>

                        <div id="department-field">
                            <label for="department" class="block text-sm font-medium text-gray-700 mb-2">
                                Department <span class="text-red-500">*</span>
                            </label>
                            <select 
                                id="department" 
                                name="department" 
                                required 
                                class="block w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors"
                            >
                                <option value="">Select department</option>
                                <option value="engineering">Engineering</option>
                                <option value="product">Product</option>
                                <option value="design">Design</option>
                                <option value="marketing">Marketing</option>
                                <option value="sales">Sales</option>
                                <option value="hr">Human Resources</option>
                                <option value="finance">Finance</option>
                                <option value="operations">Operations</option>
                            </select>
                        </div>

                        <div id="company-field">
                            <label for="company" class="block text-sm font-medium text-gray-700 mb-2">
                                Company <span class="text-red-500">*</span>
                            </label>
                            <select 
                                id="company" 
                                name="company" 
                                required 
                                class="block w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors"
                            >
                                <option value="">Select company</option>
                                <option value="scbx">SCBX Group</option>
                                <option value="scb">Siam Commercial Bank</option>
                                <option value="scb-tech">SCB TechX</option>
                                <option value="scb-securities">SCB Securities</option>
                                <option value="scb-asset">SCB Asset Management</option>
                                <option value="scb-life">SCB Life Assurance</option>
                            </select>
                        </div>

                        <div id="email-field">
                            <label for="email" class="block text-sm font-medium text-gray-700 mb-2">
                                Email Address <span class="text-red-500">*</span>
                            </label>
                            <input 
                                type="email" 
                                id="email" 
                                name="email" 
                                required 
                                class="block w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors"
                                placeholder="employee@company.com"
                            >
                        </div>

                        <div id="start-date-field">
                            <label for="startDate" class="block text-sm font-medium text-gray-700 mb-2">
                                Start Date <span class="text-red-500">*</span>
                            </label>
                            <input 
                                type="date" 
                                id="startDate" 
                                name="startDate" 
                                required 
                                class="block w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors"
                            >
                        </div>
                    </div>

                    <div id="job-description-section" class="space-y-4">
                        <div>
                            <label for="jobDescription" class="block text-sm font-medium text-gray-700 mb-2">
                                Job Description <span class="text-red-500">*</span>
                            </label>
                            <textarea 
                                id="jobDescription" 
                                name="jobDescription" 
                                rows="6" 
                                required 
                                maxlength="2000"
                                class="block w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors resize-none"
                                placeholder="Provide a detailed description of the role, responsibilities, required skills, and any specific requirements. This information will help our AI system recommend the most suitable software licenses and tools for the new hire."
                            ></textarea>
                            <div class="flex justify-between items-center mt-2">
                                <span id="char-count" class="text-sm text-gray-500">0 / 2000 characters</span>
                            </div>
                        </div>

                        <div id="tip-box" class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                            <div class="flex items-start">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-lightbulb text-blue-600 text-lg"></i>
                                </div>
                                <div class="ml-3">
                                    <h4 class="text-sm font-medium text-blue-800 mb-1">Tip for Better AI Recommendations</h4>
                                    <p class="text-sm text-blue-700">
                                        Provide detailed job description for better AI recommendations. Include specific tools, programming languages, or software the role will require.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="form-actions" class="flex items-center justify-between pt-6 border-t border-gray-200">
                        <button 
                            type="button" 
                            id="cancel-btn"
                            class="px-6 py-3 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors"
                        >
                            Cancel
                        </button>
                        <button 
                            type="submit" 
                            id="next-btn"
                            class="px-8 py-3 bg-primary-600 text-white rounded-lg text-sm font-medium hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors flex items-center"
                        >
                            Next: Get AI Recs
                            <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        const jobDescriptionTextarea = document.getElementById('jobDescription');
        const charCount = document.getElementById('char-count');
        
        jobDescriptionTextarea.addEventListener('input', function() {
            const currentLength = this.value.length;
            charCount.textContent = `${currentLength} / 2000 characters`;
            
            if (currentLength > 1800) {
                charCount.classList.add('text-red-500');
                charCount.classList.remove('text-gray-500');
            } else {
                charCount.classList.add('text-gray-500');
                charCount.classList.remove('text-red-500');
            }
        });

        document.getElementById('new-hire-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const requiredFields = this.querySelectorAll('[required]');
            let allValid = true;
            
            requiredFields.forEach(field => {
                if (!field.value.trim()) {
                    allValid = false;
                    field.classList.add('border-red-500');
                } else {
                    field.classList.remove('border-red-500');
                }
            });
            
            if (allValid) {
                console.log('Form submitted, proceeding to step 2');
                window.location.href = '/hr/new-hire/step-2';
            }
        });

        document.getElementById('cancel-btn').addEventListener('click', function() {
            if (confirm('Are you sure you want to cancel? All entered data will be lost.')) {
                window.location.href = '/hr/dashboard';
            }
        });

        document.getElementById('back-btn').addEventListener('click', function() {
            window.location.href = '/hr/dashboard';
        });

        document.getElementById('startDate').min = new Date().toISOString().split('T')[0];
    </script>
</body>
</html>